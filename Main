package com.company;

import java.util.ArrayList;
import java.util.Scanner;

public class Main {

    public static void main(String[] args) {
        System.out.println("Welcome to the COBIS Convenience Store where all your dreams come true!");
        Scanner input = new Scanner(System.in);
        int command;

        List_Of_Products cart = new List_Of_Products();
        Product spicy_doritos = new Product("Red-Hot_Spicy_Doritos", 2.99, 0);
        cart.addProduct(spicy_doritos);
        Product cool_doritos = new Product("Cool_Ranch_Doritos", 2.99, 0);
        cart.addProduct(cool_doritos);
        Product coke = new Product("Coke", 0.99, 0);
        cart.addProduct(coke);
        Product diet_coke = new Product("Diet_Coke", 0.99, 0);
        cart.addProduct(diet_coke);
        Product pepsi = new Product("Pepsi", 0.99, 0);
        cart.addProduct(pepsi);
        Product five_hour_energy = new Product("Five_Hour_Energy", 3.99, 0);
        cart.addProduct(five_hour_energy);
        Product sunflower_seeds = new Product("Sunflower_Seeds", 0.99, 0);
        cart.addProduct(sunflower_seeds);
        Product peanuts = new Product("Peanuts", 0.99, 0);
        cart.addProduct(peanuts);
        Product macbook_charger = new Product("MacBook_Charger", 120.00, 0);
        cart.addProduct(macbook_charger);
        Product dell_charger = new Product("Dell_Charger", 50.00, 0);
        cart.addProduct(dell_charger);

        List_Of_Products day_closing_list= new List_Of_Products();
        day_closing_list.addProduct(spicy_doritos);
        day_closing_list.addProduct(cool_doritos);
        day_closing_list.addProduct(coke);
        day_closing_list.addProduct(diet_coke);
        day_closing_list.addProduct(pepsi);
        day_closing_list.addProduct(five_hour_energy);
        day_closing_list.addProduct(sunflower_seeds);
        day_closing_list.addProduct(peanuts);
        day_closing_list.addProduct(macbook_charger);
        day_closing_list.addProduct(dell_charger);

        ArrayList<String> cust_list = new ArrayList<String>();

        do {
            System.out.println("Commands: 1 - Add purchase, 2 - Change a purchase, 3 - End transaction, 4 - Close store");
            command = input.nextInt();

            if (command == 1) {
                System.out.println("These items are currently in stock:");
                System.out.println(cart.printInventory());
                System.out.print("Enter the name of the product you want to purchase: ");
                String purchase = input.next();
                if(cart.inList(purchase)){
                    int index = cart.indexNum(purchase);
                    System.out.print("Enter the number of " + purchase + "(s) to buy: ");
                    int units = input.nextInt();
                    cart.addUnits(index,units);
                    System.out.println(units + " " + purchase + "(s) now in your cart!");
                } else {
                    System.out.println("Sorry, your dream of " + purchase + " cannot come true today");
                }
            } else if (command == 2) {
                System.out.print("Enter the name of the product you want to remove change in your order: ");
                String purchase_to_change = input.next();
                if(cart.inList(purchase_to_change)){
                    int index = cart.indexNum(purchase_to_change);
                    System.out.print("Enter the new amount of " + purchase_to_change + "(s) for your order: ");
                    int new_units = input.nextInt();
                    cart.addUnits(index, new_units);
                    System.out.println(new_units + " " + purchase_to_change + "(s) now in your cart!");
                    System.out.println("Sorry, " + purchase_to_change + " is not in your cart");
                }
            } else if (command == 3) {
                System.out.print("Enter your name to display your bill: ");
                System.out.println("Thank you for shopping with us! Time to pay for your dreams to come true.......");
                String cust_name = input.next();
                cust_list.add(cust_name);
                System.out.print(cust_name);
                System.out.println(cart.printBill());
                System.out.println("-------------------------------------------------");
                System.out.println("Your total is: " + String.format("%.2f",cart.printBillTotal()));
                cart.copytoClosing(cart, day_closing_list);
                cart.emptyCart(cart);
            }

        } while (command < 4);
        System.out.println("Receipts ");

    }
}
